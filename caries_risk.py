import streamlit as st

st.set_page_config(page_title="–û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–∞ –∫–∞—Ä–∏–µ—Å–∞", page_icon="ü¶∑")

st.title("ü¶∑ –û–Ω–ª–∞–π–Ω-—Ç–µ—Å—Ç: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–∏—Å–∫–∞ –∫–∞—Ä–∏–µ—Å–∞")

st.write("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –≤–æ–∑—Ä–∞—Å—Ç–Ω—É—é –≥—Ä—É–ø–ø—É:")

age_group = st.radio("–í–æ–∑—Ä–∞—Å—Ç:", ["0‚Äì5 –ª–µ—Ç", "6+ –ª–µ—Ç"])

# ---------------- –§—É–Ω–∫—Ü–∏—è –æ—Ü–µ–Ω–∫–∏ —Ä–∏—Å–∫–∞ ----------------
def assess_risk_below_6(answers, protective, disease_indicators):
    high_risk = any([answers[0], answers[1], answers[2], answers[3], answers[6], answers[7]]) or any(disease_indicators)
    moderate_risk = any([answers[4],answers[5]]) and not high_risk
    if any(disease_indicators) or high_risk:
        return "–í—ã—Å–æ–∫–∏–π"
    elif moderate_risk:
        return "–°—Ä–µ–¥–Ω–∏–π"
    else:
        return "–ù–∏–∑–∫–∏–π"

def assess_risk_under_6(answers, protective, disease_indicators):
    high_risk = any([answers[0], answers[1], answers[5], answers[6], answers[7]]) or any(disease_indicators)
    moderate_risk = any([answers[2], answers[3], answers[4],answers[8],answers[9]]) and not high_risk
    if any(disease_indicators) or high_risk:
        return "–í—ã—Å–æ–∫–∏–π"
    elif moderate_risk:
        return "–°—Ä–µ–¥–Ω–∏–π"
    else:
        return "–ù–∏–∑–∫–∏–π"


# ---------------- –ê–Ω–∫–µ—Ç–∞ –¥–ª—è 0‚Äì5 –ª–µ—Ç ----------------
if age_group == "0‚Äì5 –ª–µ—Ç":
    st.header("–ê–Ω–∫–µ—Ç–∞ –¥–ª—è –¥–µ—Ç–µ–π 0‚Äì5 –ª–µ—Ç")

    st.subheader("–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞ (—Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ/–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ/–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ)")
    q1 = st.checkbox("–£ –º–∞—Ç–µ—Ä–∏/–æ–ø–µ–∫—É–Ω–∞ –µ—Å—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–∞—Ä–∏–µ—Å")
    q2 = st.checkbox("–°–µ–º—å—è –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ / –Ω–∏–∑–∫–∞—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å)")
    q3 = st.checkbox("–†–µ–±—ë–Ω–æ–∫ —á–∞—Å—Ç–æ (–±–æ–ª–µ–µ 3 —Ä–∞–∑ –≤ –¥–µ–Ω—å) —É–ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç —Å–ª–∞–¥–∫–∏–µ –ø–µ—Ä–µ–∫—É—Å—ã –∏/–∏–ª–∏ —Å–ª–∞–¥–∫–∏–µ –Ω–∞–ø–∏—Ç–∫–∏")
    q4 = st.checkbox("–†–µ–±—ë–Ω–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±—É—Ç—ã–ª–æ—á–∫—É –∏–ª–∏ –ø–æ–∏–ª—å–Ω–∏–∫ —Å–æ —Å–ª–∞–¥–∫–æ–π –∂–∏–¥–∫–æ—Å—Ç—å—é")
    q5 = st.checkbox("–†–µ–±—ë–Ω–æ–∫ ‚Äî –Ω–µ–¥–∞–≤–Ω–∏–π –∏–º–º–∏–≥—Ä–∞–Ω—Ç")
    q6 = st.checkbox("–£ —Ä–µ–±—ë–Ω–∫–∞ –µ—Å—Ç—å –æ—Å–æ–±—ã–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏")

    st.subheader("–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞ (–∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ)")
    q7 = st.checkbox("–ù–∞ –∑—É–±–∞—Ö —Ä–µ–±—ë–Ω–∫–∞ –≤–∏–¥–µ–Ω –Ω–∞–ª—ë—Ç")
    q8 = st.checkbox("–ï—Å—Ç—å –¥–µ—Ñ–µ–∫—Ç—ã —ç–º–∞–ª–∏")

    st.subheader("–ó–∞—â–∏—Ç–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã")
    p1 = st.checkbox("–†–µ–±—ë–Ω–æ–∫ –ø–æ–ª—É—á–∞–µ—Ç —Ñ—Ç–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–æ–¥—É –∏–ª–∏ –¥–æ–±–∞–≤–∫–∏")
    p2 = st.checkbox("–ó—É–±—ã —á–∏—Å—Ç—è—Ç—Å—è —Ñ—Ç–æ—Ä—Å–æ–¥–µ—Ä–∂–∞—â–µ–π –ø–∞—Å—Ç–æ–π")
    p3 = st.checkbox("–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥ –Ω–∞–Ω–æ—Å–∏–ª —Ñ—Ç–æ—Ä–ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –º–µ—Å—Ç–Ω–æ")
    p4 = st.checkbox("–£ —Ä–µ–±–µ–Ω–∫–∞ –µ—Å—Ç—å –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–π –¥–æ–º–∞—à–Ω–∏–π —É—Ö–æ–¥ –∑–∞ –∑—É–±–∞–º–∏ –∏ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤–∏–∑–∏—Ç—ã –∫ —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—É")

    st.subheader("–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è")
    d1 = st.checkbox("–ï—Å—Ç—å –Ω–∞—á–∞–ª—å–Ω—ã–µ –∫–∞—Ä–∏–æ–∑–Ω—ã–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è (–±–µ–ª—ã–µ –ø—è—Ç–Ω–∞) ")
    d2 = st.checkbox("–ï—Å—Ç—å —è–≤–Ω—ã–µ –∫–∞—Ä–∏–æ–∑–Ω—ã–µ –ø–æ–ª–æ—Å—Ç–∏")
    d3 = st.checkbox("–ù–µ–¥–∞–≤–Ω–æ –±—ã–ª–∏ —É–¥–∞–ª–µ–Ω—ã –∑—É–±—ã –∏–ª–∏ –ª–µ—á–µ–Ω—ã –∏–∑-–∑–∞ –∫–∞—Ä–∏–µ—Å–∞")

    if st.button("–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∏—Å–∫"):
        all_answers = [q1, q2, q3, q4, q5, q6, q7, q8, p1, p2, p3, p4, d1, d2, d3]

        if not any(all_answers):  # –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –í–°–ï —á–µ–∫–±–æ–∫—Å—ã = False
            st.warning("‚ö† –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.")
        else:

            result = assess_risk_below_6(
                [q1,q2,q3,q4,q5,q6,q7,q8],
                [p1,p2,p3,p4],
                [d1,d2,d3]
            )
            if result == "–ù–∏–∑–∫–∏–π":
                st.success("üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é, —É –í–∞—Å –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∫–∞—Ä–∏–µ—Å–∞!")
            else:
                st.error(f"‚ö† –£ –í–∞—Å {result.lower()} —É—Ä–æ–≤–µ–Ω—å –∫–∞—Ä–∏–µ—Å–∞. "
                         "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–æ–±—â–∏—Ç–µ –æ–± —ç—Ç–æ–º —Å–≤–æ–µ–º—É —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—É ‚Äî –æ–Ω –∑–Ω–∞–µ—Ç, —á—Ç–æ —Å —ç—Ç–∏–º –¥–µ–ª–∞—Ç—å –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –í–∞–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏.")

# ---------------- –ê–Ω–∫–µ—Ç–∞ –¥–ª—è 6+ –ª–µ—Ç ----------------
else:
    st.header("–ê–Ω–∫–µ—Ç–∞ –¥–ª—è –ø–∞—Ü–∏–µ–Ω—Ç–æ–≤ 6+ –ª–µ—Ç")

    st.subheader("–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞ (—Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ/–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–µ/–º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ)")
    q1 = st.checkbox("–°–µ–º—å—è –∏—Å–ø—ã—Ç—ã–≤–∞–µ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ —Ç—Ä—É–¥–Ω–æ—Å—Ç–∏ / –Ω–∏–∑–∫–∞—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –≥—Ä–∞–º–æ—Ç–Ω–æ—Å—Ç—å)")
    q2 = st.checkbox("–ß–∞—Å—Ç–æ–µ —É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Å–ª–∞–¥–æ—Å—Ç–µ–π –∏–ª–∏ —Å–ª–∞–¥–∫–∏—Ö –Ω–∞–ø–∏—Ç–∫–æ–≤ (>3 —Ä–∞–∑ –≤ –¥–µ–Ω—å)")
    q3 = st.checkbox("–ü–∞—Ü–∏–µ–Ω—Ç ‚Äî –Ω–µ–¥–∞–≤–Ω–∏–π –∏–º–º–∏–≥—Ä–∞–Ω—Ç")
    q4 = st.checkbox("–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –ª–µ–∫–∞—Ä—Å—Ç–≤–∞, –≤—ã–∑—ã–≤–∞—é—â–∏–µ —Å—É—Ö–æ—Å—Ç—å –≤–æ —Ä—Ç—É")
    q5 = st.checkbox("–ï—Å—Ç—å –æ—Å–æ–±—ã–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–∏–µ –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç–∏")

    st.subheader("–§–∞–∫—Ç–æ—Ä—ã —Ä–∏—Å–∫–∞ (–∫–ª–∏–Ω–∏—á–µ—Å–∫–∏–µ)")
    q6 = st.checkbox("–ù–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å —Å–ª—é–Ω–æ–æ—Ç–¥–µ–ª–µ–Ω–∏—è")
    q7 = st.checkbox("–ù–∞ –∑—É–±–∞—Ö –≤–∏–¥–µ–Ω –Ω–∞–ª—ë—Ç")
    q8 = st.checkbox("–ï—Å—Ç—å –¥–µ—Ñ–µ–∫—Ç—ã —ç–º–∞–ª–∏")
    q9 = st.checkbox("–ü–∞—Ü–∏–µ–Ω—Ç –Ω–æ—Å–∏—Ç –æ—Ä—Ç–æ–¥–æ–Ω—Ç–∏—á–µ—Å–∫–∏–π –∏–ª–∏ –∏–Ω–æ–π –∞–ø–ø–∞—Ä–∞—Ç")
    q10 = st.checkbox("–ï—Å—Ç—å –Ω–µ–∫–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–ª–æ–º–±—ã")

    st.subheader("–ó–∞—â–∏—Ç–Ω—ã–µ —Ñ–∞–∫—Ç–æ—Ä—ã")
    p1 = st.checkbox("–ü–∞—Ü–∏–µ–Ω—Ç –ø–æ–ª—É—á–∞–µ—Ç —Ñ—Ç–æ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é –≤–æ–¥—É")
    p2 = st.checkbox("–ó—É–±—ã —á–∏—Å—Ç—è—Ç—Å—è —Ñ—Ç–æ—Ä—Å–æ–¥–µ—Ä–∂–∞—â–µ–π –ø–∞—Å—Ç–æ–π")
    p3 = st.checkbox("–°—Ç–æ–º–∞—Ç–æ–ª–æ–≥ –Ω–∞–Ω–æ—Å–∏–ª —Ñ—Ç–æ—Ä–ø—Ä–µ–ø–∞—Ä–∞—Ç—ã –º–µ—Å—Ç–Ω–æ")
    p4 = st.checkbox("–ï—Å—Ç—å –ø–æ—Å—Ç–æ—è–Ω–Ω—ã–π —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥/—Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤–∏–∑–∏—Ç—ã")

    st.subheader("–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–±–æ–ª–µ–≤–∞–Ω–∏—è")
    d1 = st.checkbox("–ï—Å—Ç—å –º–µ–∂–∑—É–±–Ω—ã–µ –∫–∞—Ä–∏–æ–∑–Ω—ã–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è")
    d2 = st.checkbox("–ï—Å—Ç—å –Ω–æ–≤—ã–µ –Ω–∞—á–∞–ª—å–Ω—ã–µ (–±–µ–ª—ã–µ –ø—è—Ç–Ω–∞) –∫–∞—Ä–∏–æ–∑–Ω—ã–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è")
    d3 = st.checkbox("–ï—Å—Ç—å –Ω–æ–≤—ã–µ –∫–∞—Ä–∏–æ–∑–Ω—ã–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è, –≤–∏–¥–∏–º—ã–µ –Ω–∞ —Ä–µ–Ω—Ç–≥–µ–Ω–µ")
    d4 = st.checkbox("–ù–µ–¥–∞–≤–Ω–æ –±—ã–ª–∏ –ø–æ—Å—Ç–∞–≤–ª–µ–Ω—ã –ø–ª–æ–º–±—ã")

    if st.button("–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Ä–∏—Å–∫"):
        all_answers = [q1, q2, q3, q4, q5, q6, q7, q8,q9,q10, p1, p2, p3, p4, d1, d2, d3,d4]

        if not any(all_answers):  # –ø—Ä–æ–≤–µ—Ä–∫–∞, —á—Ç–æ –í–°–ï —á–µ–∫–±–æ–∫—Å—ã = False
            st.warning("‚ö† –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –æ—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã.")
        else:
            result = assess_risk_under_6(
                [q1,q2,q3,q4,q5,q6,q7,q8,q9,q10],
                [p1,p2,p3,p4],
                [d1,d2,d3,d4]
            )
            if result == "–ù–∏–∑–∫–∏–π":
                st.success("üéâ –ü–æ–∑–¥—Ä–∞–≤–ª—è—é, —É –í–∞—Å –Ω–∏–∑–∫–∏–π —É—Ä–æ–≤–µ–Ω—å –∫–∞—Ä–∏–µ—Å–∞!")
            else:
                st.error(f"‚ö† –£ –í–∞—Å {result.lower()} —É—Ä–æ–≤–µ–Ω—å –∫–∞—Ä–∏–µ—Å–∞. "
                         "–û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —Å–æ–æ–±—â–∏—Ç–µ –æ–± —ç—Ç–æ–º —Å–≤–æ–µ–º—É —Å—Ç–æ–º–∞—Ç–æ–ª–æ–≥—É ‚Äî –æ–Ω –∑–Ω–∞–µ—Ç, —á—Ç–æ —Å —ç—Ç–∏–º –¥–µ–ª–∞—Ç—å –∏ –ø—Ä–µ–¥–ª–æ–∂–∏—Ç –í–∞–º –∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—É—é –ø—Ä–æ–≥—Ä–∞–º–º—É –ø—Ä–æ—Ñ–∏–ª–∞–∫—Ç–∏–∫–∏.")
